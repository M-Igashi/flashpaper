name = "flashpaper"
main = "src/worker.js"
compatibility_date = "2024-12-01"

[durable_objects]
bindings = [
  { name = "NOTE_STORE", class_name = "NoteStore" },
  { name = "STATS_STORE", class_name = "StatsStore" }
]

[[migrations]]
tag = "v1"
new_sqlite_classes = ["NoteStore"]

[[migrations]]
tag = "v2"
new_sqlite_classes = ["StatsStore"]

# Cron trigger - runs every hour to clean up expired notes
[triggers]
crons = ["0 * * * *"]

# Environment variables (set via Cloudflare dashboard or .dev.vars for local)
[vars]
CF_ANALYTICS_TOKEN = ""  # Set your Cloudflare Web Analytics token
